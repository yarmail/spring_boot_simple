-- копия скриптов базы данных с консоли

create table if not exists Person (
    id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    full_name varchar(100) NOT NULL UNIQUE,
    year_of_birth int NOT NULL
);

create table if not exists Book (
    id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    title varchar(100) NOT NULL,
    author varchar(100) NOT NULL,
    year int NOT NULL,
    person_id int REFERENCES Person(id) ON DELETE SET NULL,
    taken_at timestamp
);

insert into Person(full_name, year_of_birth) values
    ('Иванов Иван Иванович', 1970),
    ('Петров Петр Петрович', 1960),
    ('Алексеев Алексей Алексеевич', 1989),
    ('Познер Владимир Владимирович', 1944),
    ('Федоров Мирон Янович', 1985);

insert into Book(title, author, year) values
    ('Над пропастью во ржи', 'Девид Селинжер', 1951),
    ('День опричника', 'Владимир Сорокин', 2006),
    ('Тайные виды на гору Фудзи', 'Владимир Пелевин', 2018),
    ('Философия Java', 'Брюс Эккель', 2018),
    ('Психология обыденной жизни', 'Зигмунд Фрейд', 1904),
    ('Игра в бисер', 'Герман Гессе', 1943),
    ('Бытие и время', 'Мартин Хайдеггер', 1927);
